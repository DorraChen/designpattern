## 单例模式(Singleton Design Pattern)
在一个jvm环境下,一个类只允许创建一个对象(或者实例),那这个类就是一个单例类,这种设计模式就叫作单例设计模式,简称单例模式.
### 如何实现一个单例?
要实现一个单例,我们需要关注的点无外乎下面几个:
* 构造函数需要是 private 访问权限的,这样才能避免外部通过 new 创建实例;
* 考虑对象创建时的线程安全问题;考虑是否支持延迟加载;
* 考虑 getInstance() 性能是否高(是否加锁).

#### 1. 饿汉式
将对象的创建时机放在了类的初始化阶段. 例如代码中,在类加载的时候, instance 静态实例就已经创建并初始化好了.

优点: 如果初始化有问题则在程序启动时暴露, 提前暴露问题.

缺点: 饿汉式不支持延迟加载.如果从始至终从未使用过这个实例,就会比较浪费连接资源和内存.

使用场景:
初始化耗时长最好不要等到真正用的时候采取执行初始化过程, 否则影响系统性能.
如果实例占用资源多,按照 fail-fast 的设计原则(有问题及早暴露),那我们也希望在程序启动时就将这个实例初始化好.
如果资源不够,就会在程序启动的时候触发报错(比如 Java 中的 PermGen Space OOM),我们可以立即去修复.
这样也能避免在程序运行一段时间后,突然因为初始化这个实例占用资源过多,导致系统崩溃,影响系统的可用性.

#### 2. 懒汉式
将对象的创建放在了类的使用阶段.

优点: 懒汉式相对于饿汉式的优势是支持延迟加载.节省内存.

缺点: 性能问题,不支持高并发.

