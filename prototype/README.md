# 原型模式(Prototype Design Pattern)
如果对象的创建成本比较大，而同一个类的不同对象之间差别不大（大部分字段都相同），在这种情况下，我们可以利用对已有对象（原型）进行复制（或者叫拷贝）的方式来创建新对象，以达到节省创建时间的目的。这种基于原型来创建对象的方式就叫作原型设计模式（Prototype Design Pattern），简称原型模式。

原型模式有两种实现方法, 深拷贝和浅拷贝.

## 深拷贝(Deep Copy)和浅拷贝(Shallow Copy)
浅拷贝和深拷贝的区别在于，浅拷贝只会复制索引，不会复制数据本身。

相反，深拷贝不仅仅会复制索引，还会复制数据本身。

浅拷贝得到的对象跟原始对象共享数据，而深拷贝得到的是一份完完全全独立的对象。

浅拷贝只会复制对象中基本数据类型数据和引用对象的内存地址，不会递归地复制引用对象，以及引用对象的引用对象……而深拷贝得到的是一份完完全全独立的对象。所以，深拷贝比起浅拷贝来说，更加耗时，更加耗内存空间。

如果要拷贝的对象是不可变对象，浅拷贝共享不可变对象是没问题的，但对于可变对象来说，浅拷贝得到的对象和原始对象会共享部分数据，就有可能出现数据被修改的风险，也就变得复杂多了。除非需要从数据库中加载 10 万条数据并构建散列表索引，操作非常耗时，这种情况下比较推荐使用浅拷贝，否则，没有充分的理由，不要为了一点点的性能提升而使用浅拷贝。

- 浅拷贝: 在 Java 语言中，Object 类的 clone() 方法执行的就是浅拷贝。它只会拷贝对象中的基本数据类型的数据（比如，int、long），以及引用对象的内存地址，不会递归地拷贝引用对象本身。

- 如何实现深拷贝
    - 方法1: 递归拷贝对象、对象的引用对象以及引用对象的引用对象……直到要拷贝的对象只包含基本数据类型数据，没有引用对象为止
    - 方法2: 先将对象序列化，然后再反序列化成新的对象
